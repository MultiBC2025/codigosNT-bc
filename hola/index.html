import React, { useState } from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { ChevronDown, ChevronUp } from "lucide-react";
import { motion } from "framer-motion";

const tutorialData = [
  {
    name: "Android",
    steps: [
      "Abre la aplicación IPTV Smarters Pro.",
      "Selecciona 'Agregar nuevo usuario'.",
      "Elige 'Iniciar sesión con Xtream Codes API'.",
      "Introduce el nombre de usuario, contraseña y URL del servidor proporcionado.",
      "Haz clic en 'Agregar usuario'."
    ]
  },
  {
    name: "iPhone",
    steps: [
      "Descarga IPTV Smarters desde la App Store.",
      "Abre la app y selecciona 'Agregar nuevo usuario'.",
      "Selecciona 'Iniciar sesión con Xtream Codes API'.",
      "Ingresa los datos de acceso proporcionados.",
      "Pulsa en 'Agregar usuario'."
    ]
  },
  {
    name: "Windows",
    steps: [
      "Descarga IPTV Smarters para Windows desde el sitio oficial.",
      "Instala y abre la aplicación.",
      "Selecciona 'Agregar nuevo usuario'.",
      "Elige 'Iniciar sesión con Xtream Codes API'.",
      "Introduce el nombre de usuario, contraseña y URL del servidor.",
      "Haz clic en 'Agregar usuario'."
    ]
  }
];

export default function TutorialIPTV() {
  const [expanded, setExpanded] = useState<string | null>(null);

  const toggle = (name: string) => {
    setExpanded(expanded === name ? null : name);
  };

  return (
    <div className="min-h-screen bg-cover bg-center p-4" style={{ backgroundImage: "url('/tutorial-iptv-bg.png')" }}>
      <h1 className="text-3xl font-bold mb-6 text-center text-white drop-shadow-md">Tutorial IPTV</h1>

      <div className="grid gap-4 max-w-2xl mx-auto">
        {tutorialData.map((device) => (
          <Card key={device.name} className="bg-white/80 backdrop-blur-md shadow-xl rounded-2xl">
            <Button
              variant="ghost"
              className="flex justify-between items-center w-full text-lg font-semibold p-4"
              onClick={() => toggle(device.name)}
            >
              {device.name}
              {expanded === device.name ? <ChevronUp /> : <ChevronDown />}
            </Button>
            {expanded === device.name && (
              <motion.div
                initial={{ opacity: 0, height: 0 }}
                animate={{ opacity: 1, height: "auto" }}
                exit={{ opacity: 0, height: 0 }}
              >
                <CardContent className="p-4 space-y-2 text-gray-800">
                  <p className="italic text-sm text-gray-600">Esto es un ejemplo de cómo se verá el contenido paso a paso.</p>
                  {device.steps.map((step, index) => (
                    <p key={index} className="text-base">{index + 1}. {step}</p>
                  ))}
                </CardContent>
              </motion.div>
            )}
          </Card>
        ))}
      </div>
    </div>
  );
}
