<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Reproductor IPTV Xtream - GitHub</title>
  <style>
    body {
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
      justify-content: center;
      align-items: center;
    }
    video {
      width: 90vw;
      max-width: 800px;
      height: 450px;
      background: black;
      border: 2px solid #3498db;
      border-radius: 8px;
    }
    select {
      margin-top: 20px;
      padding: 10px;
      font-size: 1rem;
      border-radius: 6px;
      border: none;
      outline: none;
      background-color: #222;
      color: white;
    }
  </style>
</head>
<body>
  <h1>Reproductor IPTV Xtream</h1>

  <video id="player" controls crossorigin="anonymous" poster="">
    Tu navegador no soporta video HTML5.
  </video>

  <select id="channelSelect">
    <option value="">Selecciona un canal</option>
  </select>

  <script>
    // Datos del playlist Xtream (Ejemplo básico)
    // Normalmente, el URL tiene esta estructura: 
    // http://server:port/player_api.php?username=XXX&password=YYY&action=get_live_streams
    // Pero aquí pondremos URLs de ejemplo directas de streams (m3u8 u otros)
    
    const channels = [
      {
        name: "Canal 1 - Noticias",
        url: "https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8"
      },
      {
        name: "Canal 2 - Deportes",
        url: "https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"
      },
      {
        name: "Canal 3 - Música",
        url: "https://mnmedias.api.telequebec.tv/m3u8/29880.m3u8"
      }
    ];

    const select = document.getElementById('channelSelect');
    const player = document.getElementById('player');

    // Cargar canales en el select
    channels.forEach((channel, index) => {
      const option = document.createElement('option');
      option.value = channel.url;
      option.textContent = channel.name;
      select.appendChild(option);
    });

    // Cambiar canal y reproducir
    select.addEventListener('change', () => {
      const url = select.value;
      if(url) {
        player.src = url;
        player.play();
      } else {
        player.pause();
        player.src = "";
      }
    });
  </script>
</body>
</html>
